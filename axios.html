<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>axios</title>
    <link rel="shortcut icon" href="#" type="image/x-icon">
    <link rel="stylesheet" href="style.css">
    <!-----引入axios函式庫------->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.0/axios.min.js" integrity="sha512-DZqqY3PiOvTP9HkjIWgjO6ouCbq+dxqWoJZ/Q+zPYNHmlnI2dQnbJ5bxAHpAMw+LXRm4D72EIRXzvcHQtE8/VQ==" crossorigin="anonymous"></script>
    <style>
        li {
          padding: 5px;
          box-shadow: 0 0 5px #ccc;
          margin: 5px 0;
          font-size: 16px;
        }
    
        li a {
          text-decoration: none;
          color: #333;
        }
    
        li:nth-child(odd) {
          background: rgb(228, 140, 140);
        }
      </style>
</head>
<body>
    <h1 class="header">axios</h1>
    <div class="title"></div>
    <h4></h4>
    <ul></ul>
    
</body>
</html>
<script>
/********************************************************
* 1.api網址  https://kktix.com/events.json
* 2.發起一個axios請求
* 3.建立回呼函式(call back function)來處理回應時的各項行為
* 4.建立錯誤處理
********************************************************/

//發起一個axios請求
//建立回呼函式(call back function)來處理回應時的各項行為
//建立錯誤處理
axios.get("https://kktix.com/events.json")
.then(function(response){
    let res=response.data
    console.log(res)
    let events = res.entry
      let html = "";
      for (let i = 0; i < events.length; i++) {
        html = html + `<li><a href='${events[i].url}'>${events[i].title}</a></li>`;
      }
      let ul = document.getElementsByTagName('ul')[0]
      ul.innerHTML = html;

//處理回應

})
.catch(function(err){
//error

})



</script>